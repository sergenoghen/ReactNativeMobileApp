{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _lookupRecord = _interopRequireDefault(require(\"../helpers/lookupRecord\"));\nvar _BRRenderer = _interopRequireDefault(require(\"../renderers/BRRenderer\"));\nvar _WBRRenderer = _interopRequireDefault(require(\"../renderers/WBRRenderer\"));\nvar _internalRenderers = _interopRequireDefault(require(\"./internalRenderers\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar internalTextRenderers = {\n  br: _BRRenderer.default,\n  wbr: _WBRRenderer.default\n};\nvar RenderRegistry = function () {\n  function RenderRegistry() {\n    var customRenderers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var elementModels = arguments.length > 1 ? arguments[1] : undefined;\n    _classCallCheck(this, RenderRegistry);\n    _defineProperty(this, \"customRenderers\", {});\n    _defineProperty(this, \"elementModels\", void 0);\n    this.customRenderers = customRenderers;\n    this.elementModels = elementModels;\n  }\n  _createClass(RenderRegistry, [{\n    key: \"getCustomRendererForTNode\",\n    value: function getCustomRendererForTNode(tnode) {\n      if (tnode.tagName in this.customRenderers) {\n        var renderer = this.customRenderers[tnode.tagName];\n        if (typeof __DEV__ === 'boolean' && __DEV__) {\n          var elementModel = this.elementModels[tnode.tagName];\n          if (!elementModel) {\n            console.warn(\"You are attempting to render a \" + tnode.tagName + \" tag but you didn't provide an HTMLElementModel. Make sure you register a model for this tag in \\\"customHTMLElementModels\\\" prop. \");\n          } else if (!tnode.matchContentModel(elementModel.contentModel)) {\n            console.warn(\"You are attempting to render \\\"\" + tnode.tagName + \"\\\" of type \\\"\" + tnode.displayName + \"\\\", but the registered renderer is of content model type \" + (elementModel === null || elementModel === void 0 ? void 0 : elementModel.contentModel) + \" which is incompatible with \\\"\" + tnode.displayName + \"\\\".\");\n          }\n        }\n        return renderer;\n      }\n      return null;\n    }\n  }, {\n    key: \"getDefaultRendererForTNode\",\n    value: function getDefaultRendererForTNode(tnode) {\n      if (tnode.tagName in _internalRenderers.default) {\n        return _internalRenderers.default[tnode.tagName];\n      }\n      return null;\n    }\n  }, {\n    key: \"getInternalTextRenderer\",\n    value: function getInternalTextRenderer(tagName) {\n      if ((0, _lookupRecord.default)(internalTextRenderers, tagName)) {\n        return internalTextRenderers[tagName];\n      }\n      return null;\n    }\n  }, {\n    key: \"getRendererConfigForTNode\",\n    value: function getRendererConfigForTNode(tnode) {\n      return {\n        Custom: this.getCustomRendererForTNode(tnode),\n        Default: this.getDefaultRendererForTNode(tnode)\n      };\n    }\n  }]);\n  return RenderRegistry;\n}();\nexports.default = RenderRegistry;","map":{"version":3,"names":["_lookupRecord","_interopRequireDefault","require","_BRRenderer","_WBRRenderer","_internalRenderers","internalTextRenderers","br","default","wbr","RenderRegistry","customRenderers","arguments","length","undefined","elementModels","_classCallCheck","_defineProperty","_createClass","key","value","getCustomRendererForTNode","tnode","tagName","renderer","__DEV__","elementModel","console","warn","matchContentModel","contentModel","displayName","getDefaultRendererForTNode","getInternalTextRenderer","getRendererConfigForTNode","Custom","Default"],"sources":["C:\\applicationJS\\react-apps\\ReactNativeMobileApp\\node_modules\\react-native-render-html\\lib\\commonjs\\render\\RenderRegistry.ts"],"sourcesContent":["import { TNode } from '@native-html/transient-render-engine';\nimport { ComponentType } from 'react';\nimport { CustomRendererProps } from '..';\nimport lookupRecord from '../helpers/lookupRecord';\nimport BRRenderer from '../renderers/BRRenderer';\nimport WBRRenderer from '../renderers/WBRRenderer';\nimport {\n  CustomRenderer,\n  HTMLElementModelRecord,\n  InternalRenderer\n} from '../shared-types';\nimport internalRenderers from './internalRenderers';\nimport {\n  CustomTagRendererRecord,\n  InternalTextContentRenderer\n} from './render-types';\n\nconst internalTextRenderers: Record<string, InternalTextContentRenderer> = {\n  br: BRRenderer,\n  wbr: WBRRenderer\n};\n\nexport interface RendererConfig<T extends TNode> {\n  Custom: CustomRenderer<T> | null;\n  Default: InternalRenderer<T> | null;\n}\n\nexport default class RenderRegistry {\n  constructor(\n    customRenderers: CustomTagRendererRecord = {},\n    elementModels: HTMLElementModelRecord\n  ) {\n    this.customRenderers = customRenderers;\n    this.elementModels = elementModels;\n  }\n\n  private readonly customRenderers: CustomTagRendererRecord = {};\n  private readonly elementModels: HTMLElementModelRecord;\n\n  private getCustomRendererForTNode<T extends TNode>(\n    tnode: T\n  ): ComponentType<CustomRendererProps<T>> | null {\n    if (tnode.tagName! in this.customRenderers) {\n      const renderer = this.customRenderers[tnode.tagName!];\n      /* istanbul ignore next */\n      if (typeof __DEV__ === 'boolean' && __DEV__) {\n        // In DEV, check for discrepancies.\n        const elementModel = this.elementModels[tnode.tagName!];\n        if (!elementModel) {\n          console.warn(\n            `You are attempting to render a ${tnode.tagName!} tag but you didn't provide an HTMLElementModel. Make sure you register a model for this tag in \"customHTMLElementModels\" prop. `\n          );\n        } else if (!tnode.matchContentModel(elementModel.contentModel)) {\n          console.warn(\n            `You are attempting to render \"${tnode.tagName}\" of type \"${tnode.displayName}\", but the registered renderer is of content model type ${elementModel?.contentModel} which is incompatible with \"${tnode.displayName}\".`\n          );\n        }\n      }\n      return renderer as any;\n    }\n    return null;\n  }\n\n  private getDefaultRendererForTNode<T extends TNode>(\n    tnode: T\n  ): InternalRenderer<T> | null {\n    if (tnode.tagName! in internalRenderers) {\n      //@ts-expect-error we know that the tagName is in the map\n      return internalRenderers[tnode.tagName!];\n    }\n    return null;\n  }\n\n  getInternalTextRenderer(tagName: string | null) {\n    if (lookupRecord(internalTextRenderers, tagName)) {\n      return internalTextRenderers[tagName];\n    }\n    return null;\n  }\n\n  getRendererConfigForTNode<T extends TNode>(tnode: T): RendererConfig<T> {\n    return {\n      Custom: this.getCustomRendererForTNode(tnode),\n      Default: this.getDefaultRendererForTNode(tnode)\n    };\n  }\n}\n"],"mappings":";;;;;;;;AAGA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,YAAA,GAAAH,sBAAA,CAAAC,OAAA;AAMA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;;;;;;;;;;;;;;;;;;;AAMA,IAAMI,qBAAkE,GAAG;EACzEC,EAAE,EAAEJ,WAAA,CAAAK,OADqE;EAEzEC,GAAG,EAAEL,YAAA,CAAAI;AAFoE,CAA3E;AAAA,IAUqBE,cAAN;EACb,SAAAA,eAAA,EAGE;IAAA,IAFAC,eAAwC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EADlC;IAAA,IAETG,aAFS,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;IAAAE,eAAA,OAAAN,cAAA;IAGTO,eAAA,0BAK0D,EAL1D;IAAAA,eAAA;IACA,KAAKN,eAAL,GAAuBA,eAAvB;IACA,KAAKI,aAAL,GAAqBA,aAArB;EACD;EAAAG,YAAA,CAAAR,cAAA;IAAAS,GAAA;IAAAC,KAAA,EAKO,SAAAC,0BACNC,KAD+B,EAEe;MAC9C,IAAIA,KAAK,CAACC,OAAN,IAAkB,KAAKZ,eAA3B,EAA4C;QAC1C,IAAMa,QAAQ,GAAG,KAAKb,eAAL,CAAqBW,KAAK,CAACC,OAA3B,CAAjB;QAEA,IAAI,OAAOE,OAAP,KAAmB,SAAnB,IAAgCA,OAApC,EAA6C;UAE3C,IAAMC,YAAY,GAAG,KAAKX,aAAL,CAAmBO,KAAK,CAACC,OAAzB,CAArB;UACA,IAAI,CAACG,YAAL,EAAmB;YACjBC,OAAO,CAACC,IAAR,qCACoCN,KAAK,CAACC,OAAS,wIADnD;UAGD,CAJD,MAIO,IAAI,CAACD,KAAK,CAACO,iBAAN,CAAwBH,YAAY,CAACI,YAArC,CAAL,EAAyD;YAC9DH,OAAO,CAACC,IAAR,qCACmCN,KAAK,CAACC,OAAQ,qBAAaD,KAAK,CAACS,WAAY,kEAA0DL,YAAxI,aAAwIA,YAAxI,uBAAwIA,YAAY,CAAEI,YAAa,uCAA+BR,KAAK,CAACS,WAAY,SADtN;UAGD;QACF;QACD,OAAOP,QAAP;MACD;MACD,OAAO,IAAP;IACD;EAAA;IAAAL,GAAA;IAAAC,KAAA,EAEO,SAAAY,2BACNV,KADgC,EAEJ;MAC5B,IAAIA,KAAK,CAACC,OAAN,IAAkBlB,kBAAA,CAAAG,OAAtB,EAAyC;QAEvC,OAAOH,kBAAA,CAAAG,OAAA,CAAkBc,KAAK,CAACC,OAAxB,CAAP;MACD;MACD,OAAO,IAAP;IACD;EAAA;IAAAJ,GAAA;IAAAC,KAAA,EAED,SAAAa,wBAAwBV,OAAD,EAAyB;MAC9C,IAAI,IAAAvB,aAAA,CAAAQ,OAAA,EAAaF,qBAAb,EAAoCiB,OAApC,CAAJ,EAAkD;QAChD,OAAOjB,qBAAqB,CAACiB,OAAD,CAA5B;MACD;MACD,OAAO,IAAP;IACD;EAAA;IAAAJ,GAAA;IAAAC,KAAA,EAED,SAAAc,0BAA2CZ,KAAlB,EAA+C;MACtE,OAAO;QACLa,MAAM,EAAE,KAAKd,yBAAL,CAA+BC,KAA/B,CADH;QAELc,OAAO,EAAE,KAAKJ,0BAAL,CAAgCV,KAAhC;MAFJ,CAAP;IAID;EAAA;EAAA,OAAAZ,cAAA;AAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}