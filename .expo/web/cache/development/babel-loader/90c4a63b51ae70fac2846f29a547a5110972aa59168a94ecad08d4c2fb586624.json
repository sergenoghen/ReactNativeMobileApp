{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useTTree;\nvar _react = require(\"react\");\nvar _ttreeEventsContext = _interopRequireDefault(require(\"../context/ttreeEventsContext\"));\nvar _SharedPropsProvider = require(\"../context/SharedPropsProvider\");\nvar _TRenderEngineProvider = require(\"../TRenderEngineProvider\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction useTTreeChangeEffect(ttree) {\n  var _ref = (0, _react.useContext)(_ttreeEventsContext.default),\n    onTTreeChange = _ref.onTTreeChange;\n  var _ref2 = (0, _SharedPropsProvider.useSharedProps)(),\n    debug = _ref2.debug;\n  var updateNumber = (0, _react.useRef)(0);\n  (0, _react.useEffect)(function () {\n    onTTreeChange === null || onTTreeChange === void 0 ? void 0 : onTTreeChange.call(null, ttree);\n    if (debug && typeof __DEV__ === 'boolean' && __DEV__) {\n      console.info(\"Transient Render Tree update \" + ++updateNumber.current + \":\\n\" + ttree.snapshot({\n        withNodeIndex: false,\n        withStyles: false\n      }));\n    }\n  }, [ttree, onTTreeChange, debug]);\n}\nfunction useTTree(props) {\n  var document = props.document;\n  var trenderEngine = (0, _TRenderEngineProvider.useAmbientTRenderEngine)();\n  var ttree = (0, _react.useMemo)(function () {\n    return typeof document === 'string' ? trenderEngine.buildTTree(document) : trenderEngine.buildTTreeFromDoc(document);\n  }, [document, trenderEngine]);\n  useTTreeChangeEffect(ttree);\n  return ttree;\n}","map":{"version":3,"names":["_react","require","_ttreeEventsContext","_interopRequireDefault","_SharedPropsProvider","_TRenderEngineProvider","useTTreeChangeEffect","ttree","_ref","useContext","default","onTTreeChange","_ref2","useSharedProps","debug","updateNumber","useRef","useEffect","call","__DEV__","console","info","current","snapshot","withNodeIndex","withStyles","useTTree","props","document","trenderEngine","useAmbientTRenderEngine","useMemo","buildTTree","buildTTreeFromDoc"],"sources":["C:\\applicationJS\\react-apps\\ReactNativeMobileApp\\node_modules\\react-native-render-html\\lib\\commonjs\\hooks\\useTTree.ts"],"sourcesContent":["import { useMemo, useEffect, useRef, useContext } from 'react';\nimport ttreeEventsContext from '../context/ttreeEventsContext';\nimport { useSharedProps } from '../context/SharedPropsProvider';\nimport { RenderTTreeProps } from '../internal-types';\nimport { useAmbientTRenderEngine } from '../TRenderEngineProvider';\nimport { TDocument } from '@native-html/transient-render-engine';\n\nfunction useTTreeChangeEffect(ttree: TDocument) {\n  const { onTTreeChange } = useContext(ttreeEventsContext);\n  const { debug } = useSharedProps();\n  const updateNumber = useRef(0);\n  useEffect(() => {\n    onTTreeChange?.call(null, ttree);\n    if (debug && typeof __DEV__ === 'boolean' && __DEV__) {\n      console.info(\n        `Transient Render Tree update ${++updateNumber.current}:\\n${ttree.snapshot(\n          {\n            withNodeIndex: false,\n            withStyles: false\n          }\n        )}`\n      );\n    }\n  }, [ttree, onTTreeChange, debug]);\n}\n\n/**\n * @internal\n */\nexport default function useTTree(props: RenderTTreeProps) {\n  const { document } = props;\n  const trenderEngine = useAmbientTRenderEngine();\n  const ttree = useMemo(\n    () =>\n      typeof document === 'string'\n        ? trenderEngine.buildTTree(document)\n        : trenderEngine.buildTTreeFromDoc(document),\n    [document, trenderEngine]\n  );\n  useTTreeChangeEffect(ttree);\n  return ttree;\n}\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,oBAAA,GAAAH,OAAA;AAEA,IAAAI,sBAAA,GAAAJ,OAAA;;;;;;AAGA,SAASK,oBAATA,CAA8BC,KAA9B,EAAgD;EAC9C,IAAAC,IAAA,GAA0B,IAAAR,MAAA,CAAAS,UAAA,EAAWP,mBAAA,CAAAQ,OAAX,CAA1B;IAAQC,aAAA,GAAAH,IAAA,CAAAG,aAAA;EACR,IAAAC,KAAA,GAAkB,IAAAR,oBAAA,CAAAS,cAAA,GAAlB;IAAQC,KAAA,GAAAF,KAAA,CAAAE,KAAA;EACR,IAAMC,YAAY,GAAG,IAAAf,MAAA,CAAAgB,MAAA,EAAO,CAAP,CAArB;EACA,IAAAhB,MAAA,CAAAiB,SAAA,EAAU,YAAM;IACdN,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEO,IAAf,CAAoB,IAApB,EAA0BX,KAA1B;IACA,IAAIO,KAAK,IAAI,OAAOK,OAAP,KAAmB,SAA5B,IAAyCA,OAA7C,EAAsD;MACpDC,OAAO,CAACC,IAAR,mCACkC,EAAEN,YAAY,CAACO,OAAQ,WAAKf,KAAK,CAACgB,QAAN,CAC1D;QACEC,aAAa,EAAE,KADjB;QAEEC,UAAU,EAAE;MAFd,CAD0D,CAK1D,CANJ;IAQD;EACF,CAZD,EAYG,CAAClB,KAAD,EAAQI,aAAR,EAAuBG,KAAvB,CAZH;AAaD;AAKc,SAASY,QAATA,CAAkBC,KAAlB,EAA2C;EACxD,IAAQC,QAAA,GAAaD,KAArB,CAAQC,QAAA;EACR,IAAMC,aAAa,GAAG,IAAAxB,sBAAA,CAAAyB,uBAAA,GAAtB;EACA,IAAMvB,KAAK,GAAG,IAAAP,MAAA,CAAA+B,OAAA,EACZ;IAAA,OACE,OAAOH,QAAP,KAAoB,QAApB,GACIC,aAAa,CAACG,UAAd,CAAyBJ,QAAzB,CADJ,GAEIC,aAAa,CAACI,iBAAd,CAAgCL,QAAhC,CAJM;EAAA,GAKZ,CAACA,QAAD,EAAWC,aAAX,CALY,CAAd;EAOAvB,oBAAoB,CAACC,KAAD,CAApB;EACA,OAAOA,KAAP;AACD"},"metadata":{},"sourceType":"script","externalDependencies":[]}