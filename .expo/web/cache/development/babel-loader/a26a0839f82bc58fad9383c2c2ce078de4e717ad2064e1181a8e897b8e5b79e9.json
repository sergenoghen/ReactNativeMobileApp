{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\nvar _excluded = [\"source\"],\n  _excluded2 = [\"onDocumentMetadataLoaded\", \"onTTreeChange\", \"contentWidth\"],\n  _excluded3 = [\"source\"],\n  _excluded4 = [\"source\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.renderSourcePropTypes = void 0;\nvar _equals = _interopRequireDefault(require(\"ramda/src/equals\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native-web/dist/index\");\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _ttreeEventsContext = _interopRequireDefault(require(\"./context/ttreeEventsContext\"));\nvar _isUriSource = _interopRequireDefault(require(\"./helpers/isUriSource\"));\nvar _SourceLoaderUri = _interopRequireDefault(require(\"./SourceLoaderUri\"));\nvar _SourceLoaderInline = _interopRequireDefault(require(\"./SourceLoaderInline\"));\nvar _SourceLoaderDom = _interopRequireDefault(require(\"./SourceLoaderDom\"));\nvar _debugMessages = _interopRequireDefault(require(\"./debugMessages\"));\nvar _contentWidthContext = _interopRequireDefault(require(\"./context/contentWidthContext\"));\nvar _isDomSource = _interopRequireDefault(require(\"./helpers/isDomSource\"));\nvar _useProfiler = _interopRequireDefault(require(\"./hooks/useProfiler\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar renderSourcePropTypes = {\n  source: _propTypes.default.oneOfType([_propTypes.default.shape({\n    html: _propTypes.default.string.isRequired,\n    baseUrl: _propTypes.default.string\n  }), _propTypes.default.shape({\n    dom: _propTypes.default.object.isRequired,\n    baseUrl: _propTypes.default.string\n  }), _propTypes.default.shape({\n    uri: _propTypes.default.string.isRequired,\n    method: _propTypes.default.string,\n    body: _propTypes.default.any,\n    headers: _propTypes.default.object\n  })]),\n  onTTreeChange: _propTypes.default.func,\n  onHTMLLoaded: _propTypes.default.func,\n  onDocumentMetadataLoaded: _propTypes.default.func,\n  contentWidth: _propTypes.default.number\n};\nexports.renderSourcePropTypes = renderSourcePropTypes;\nfunction isEmptySource(source) {\n  return !source || typeof source.uri !== 'string' && typeof source.html !== 'string' && !source.dom;\n}\nfunction RawSourceLoader(_ref) {\n  var source = _ref.source,\n    props = _objectWithoutProperties(_ref, _excluded);\n  if (isEmptySource(source)) {\n    if (typeof __DEV__ === 'boolean' && __DEV__) {\n      console.warn(_debugMessages.default.noSource);\n    }\n    return null;\n  }\n  if ((0, _isUriSource.default)(source)) {\n    return _react.default.createElement(_SourceLoaderUri.default, _objectSpread({\n      source: source\n    }, props));\n  }\n  if ((0, _isDomSource.default)(source)) {\n    return _react.default.createElement(_SourceLoaderDom.default, _objectSpread({\n      source: source\n    }, props));\n  }\n  return _react.default.createElement(_SourceLoaderInline.default, _objectSpread({\n    source: source\n  }, props));\n}\nfunction shallowEqual(prop1, prop2) {\n  if (!(0, _equals.default)(Object.keys(prop1), Object.keys(prop2))) {\n    return false;\n  }\n  for (var key in prop1) {\n    if (prop1[key] !== prop2[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nvar RenderHTMLSource = (0, _react.memo)(function RenderHtmlSource(_ref2) {\n  var onDocumentMetadataLoaded = _ref2.onDocumentMetadataLoaded,\n    onTTreeChange = _ref2.onTTreeChange,\n    contentWidth = _ref2.contentWidth,\n    props = _objectWithoutProperties(_ref2, _excluded2);\n  var profile = (0, _useProfiler.default)({\n    prop: 'onDocumentMetadataLoaded or onTTreeChange'\n  });\n  var ttreeEvents = (0, _react.useMemo)(function () {\n    typeof __DEV__ === 'boolean' && __DEV__ && profile();\n    return {\n      onDocumentMetadataLoaded: onDocumentMetadataLoaded,\n      onTTreeChange: onTTreeChange\n    };\n  }, [onDocumentMetadataLoaded, onTTreeChange, profile]);\n  if (typeof __DEV__ === 'boolean' && __DEV__) {\n    if (!(typeof contentWidth === 'number')) {\n      console.warn(_debugMessages.default.contentWidth);\n    }\n  }\n  return _react.default.createElement(_ttreeEventsContext.default.Provider, {\n    value: ttreeEvents\n  }, _react.default.createElement(_contentWidthContext.default.Provider, {\n    value: contentWidth || _reactNative.Dimensions.get('window').width\n  }, _react.default.createElement(RawSourceLoader, props)));\n}, function (_ref3, _ref4) {\n  var currSource = _ref4.source,\n    curr = _objectWithoutProperties(_ref4, _excluded3);\n  var prevSource = _ref3.source,\n    prev = _objectWithoutProperties(_ref3, _excluded4);\n  return shallowEqual(prevSource, currSource) && shallowEqual(prev, curr);\n});\nRenderHTMLSource.propTypes = renderSourcePropTypes;\nvar _default = RenderHTMLSource;\nexports.default = _default;","map":{"version":3,"names":["_equals","_interopRequireDefault","require","_react","_interopRequireWildcard","_reactNative","_propTypes","_ttreeEventsContext","_isUriSource","_SourceLoaderUri","_SourceLoaderInline","_SourceLoaderDom","_debugMessages","_contentWidthContext","_isDomSource","_useProfiler","renderSourcePropTypes","source","default","oneOfType","shape","html","string","isRequired","baseUrl","dom","object","uri","method","body","any","headers","onTTreeChange","func","onHTMLLoaded","onDocumentMetadataLoaded","contentWidth","number","isEmptySource","RawSourceLoader","_ref","props","_objectWithoutProperties","_excluded","__DEV__","console","warn","noSource","createElement","_objectSpread","shallowEqual","prop1","prop2","Object","keys","key","RenderHTMLSource","memo","RenderHtmlSource","_ref2","_excluded2","profile","prop","ttreeEvents","useMemo","Provider","value","Dimensions","get","width","_ref3","_ref4","currSource","curr","_excluded3","prevSource","prev","_excluded4","propTypes"],"sources":["C:\\applicationJS\\react-apps\\ReactNativeMobileApp\\node_modules\\react-native-render-html\\lib\\commonjs\\RenderHTMLSource.tsx"],"sourcesContent":["import equals from 'ramda/src/equals';\nimport React, { memo, ReactElement, useMemo } from 'react';\nimport { Dimensions } from 'react-native';\nimport PropTypes from 'prop-types';\nimport ttreeEventsContext from './context/ttreeEventsContext';\nimport isUriSource from './helpers/isUriSource';\nimport { SourceLoaderProps, TTreeEvents } from './internal-types';\nimport {\n  HTMLSourceDom,\n  HTMLSourceInline,\n  RenderHTMLSourceProps,\n  HTMLSourceUri,\n  HTMLSource\n} from './shared-types';\nimport SourceLoaderUri from './SourceLoaderUri';\nimport SourceLoaderInline from './SourceLoaderInline';\nimport SourceLoaderDom from './SourceLoaderDom';\nimport debugMessage from './debugMessages';\nimport contentWidthContext from './context/contentWidthContext';\nimport isDomSource from './helpers/isDomSource';\nimport useProfiler from './hooks/useProfiler';\n\nexport type RenderHTMLSourcePropTypes = Record<\n  keyof RenderHTMLSourceProps,\n  any\n>;\n\nexport const renderSourcePropTypes: RenderHTMLSourcePropTypes = {\n  source: PropTypes.oneOfType([\n    PropTypes.shape({\n      html: PropTypes.string.isRequired,\n      baseUrl: PropTypes.string\n    }),\n    PropTypes.shape({\n      dom: PropTypes.object.isRequired,\n      baseUrl: PropTypes.string\n    }),\n    PropTypes.shape({\n      uri: PropTypes.string.isRequired,\n      method: PropTypes.string,\n      body: PropTypes.any,\n      headers: PropTypes.object\n    })\n  ]),\n  onTTreeChange: PropTypes.func,\n  onHTMLLoaded: PropTypes.func,\n  onDocumentMetadataLoaded: PropTypes.func,\n  contentWidth: PropTypes.number\n};\n\nfunction isEmptySource(source: undefined | HTMLSource) {\n  return (\n    !source ||\n    (typeof (source as HTMLSourceUri).uri !== 'string' &&\n      typeof (source as HTMLSourceInline).html !== 'string' &&\n      !(source as HTMLSourceDom).dom)\n  );\n}\n\nfunction RawSourceLoader({\n  source,\n  ...props\n}: SourceLoaderProps): ReactElement | null {\n  if (isEmptySource(source)) {\n    /* istanbul ignore next */\n    if (typeof __DEV__ === 'boolean' && __DEV__) {\n      console.warn(debugMessage.noSource);\n    }\n    return null;\n  }\n  if (isUriSource(source)) {\n    return React.createElement(SourceLoaderUri, { source, ...props });\n  }\n  if (isDomSource(source)) {\n    return React.createElement(SourceLoaderDom, { source, ...props });\n  }\n  return React.createElement(SourceLoaderInline, { source, ...props });\n}\n\n// check if for each key of two objects, the values are equal\nfunction shallowEqual(prop1: any, prop2: any) {\n  if (!equals(Object.keys(prop1), Object.keys(prop2))) {\n    return false;\n  }\n  for (const key in prop1) {\n    if (prop1[key] !== prop2[key]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * A React component to render HTML snippets.\n *\n * @remarks This component is useful when you have to load dozens of HTML\n * snippets with the same config. Performance is expected to improve in such\n * scenarios.\n *\n * @warning This component requires to have {@link TRenderEngineProvider}\n * and {@link RenderHTMLConfigProvider} as parents.\n */\nconst RenderHTMLSource = memo(\n  function RenderHtmlSource({\n    onDocumentMetadataLoaded,\n    onTTreeChange,\n    contentWidth,\n    ...props\n  }: RenderHTMLSourceProps) {\n    const profile = useProfiler({\n      prop: 'onDocumentMetadataLoaded or onTTreeChange'\n    });\n    const ttreeEvents: TTreeEvents = useMemo(() => {\n      typeof __DEV__ === 'boolean' && __DEV__ && profile();\n      return {\n        onDocumentMetadataLoaded,\n        onTTreeChange\n      };\n    }, [onDocumentMetadataLoaded, onTTreeChange, profile]);\n    if (typeof __DEV__ === 'boolean' && __DEV__) {\n      if (!(typeof contentWidth === 'number')) {\n        console.warn(debugMessage.contentWidth);\n      }\n    }\n    return (\n      <ttreeEventsContext.Provider value={ttreeEvents}>\n        <contentWidthContext.Provider\n          value={contentWidth || Dimensions.get('window').width}>\n          {React.createElement(RawSourceLoader, props)}\n        </contentWidthContext.Provider>\n      </ttreeEventsContext.Provider>\n    );\n  },\n  ({ source: prevSource, ...prev }, { source: currSource, ...curr }) => {\n    return shallowEqual(prevSource, currSource) && shallowEqual(prev, curr);\n  }\n);\n\n/**\n * @ignore\n */\n(RenderHTMLSource as any).propTypes = renderSourcePropTypes;\n\nexport default RenderHTMLSource;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}